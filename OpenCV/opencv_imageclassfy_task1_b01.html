<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>opencv_imageclassfy_task1_b01</title>
    
    <!-- CSS æ¡†æ¶ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/dark.min.css">
    
    <!-- ä»£ç¢¼é«˜äº® -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/base16/darcula.min.css">
    
    <!-- è‡ªå®šç¾©æ¨£å¼ -->
    <style>
        
                body {
                    max-width: 900px;
                    margin: 0 auto;
                    padding: 20px;
                }
                /* æå‡ä»£ç å—å¯¹æ¯”åº¦ */
                pre {
                    background: #1e1e1e !important;
                    border: 1px solid #3e3e3e;
                }
                pre code {
                    background: #1e1e1e !important;
                }
                code {
                    background: #2d2d2d !important;
                }
                /* å¼•ç”¨å—å¯¹æ¯”åº¦ */
                blockquote {
                    background: #2d2d2d;
                    border-left: 4px solid #4a9eff;
                }
            
        
        /* é€šç”¨ä»£ç¢¼å¡Šæ¨£å¼ */
        pre code {
            display: block;
            padding: 1.5em;
            border-radius: 8px;
            overflow-x: auto;
            line-height: 1.6;
        }

        /* Mermaid åœ–è¡¨æ¨£å¼ */
        
        .mermaid {
            margin: 2em 0;
            padding: 1.5em;
            text-align: center;
            border-radius: 8px;
        }
        
        .mermaid {
            background: #2c3034;
            border: 1px solid #444;
        }
            
        
        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container, .markdown-body, .latex-body, .window-body, .nes-container {
                padding: 15px;
            }
            pre code {
                padding: 1em;
            }
        }
        
        
    </style>
</head>
<body>
    <div class="container"><!-- Path: General_python/openCV/å½±åƒè¾¨è­˜-å‚³çµ±æ–¹æ³• | Timestamp: 2025-10-06 16:00:00 | Version: b01 -->
<h1>é¡Œç›®ä¸€ï¼šäººè‡‰è¨ˆæ•¸èˆ‡æ¡†é¸æ‡‰ç”¨</h1>
<h2>ğŸ“‹ ä»»å‹™èªªæ˜</h2>
<p>è«‹æ’°å¯«ä¸€å€‹ Python ç¨‹å¼ï¼Œèƒ½å¤ è‡ªå‹•åµæ¸¬ç…§ç‰‡ä¸­çš„äººè‡‰æ•¸é‡ï¼Œä¸¦åœ¨æ¯å¼µäººè‡‰ä¸Šæ–¹é¡¯ç¤ºç·¨è™Ÿæ¨™ç±¤ï¼ˆä¾‹å¦‚ï¼šã€Œäººè‡‰ 1ã€ã€ã€Œäººè‡‰ 2ã€...ï¼‰ã€‚</p>
<hr />
<h2>ğŸ–¼ï¸ å½±åƒé¸æ“‡æŒ‡å¼•</h2>
<h3>é©åˆçš„å½±åƒé¡å‹</h3>
<h4>âœ… æ¨è–¦ä½¿ç”¨çš„å½±åƒ</h4>
<ol>
<li><strong>æ­£é¢äººè‡‰ç…§ç‰‡</strong></li>
<li>ç‰¹å¾µï¼šè‡‰éƒ¨å®Œæ•´æœå‘é¡é ­ï¼Œäº”å®˜æ¸…æ™°å¯è¦‹</li>
<li>ç¯„ä¾‹ï¼šè­‰ä»¶ç…§ã€è‡ªæ‹ç…§ã€åœ˜é«”ç…§</li>
<li>
<p>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜…â˜…â˜…ï¼ˆ95%+ï¼‰</p>
</li>
<li>
<p><strong>å…‰ç·šå……è¶³çš„ç…§ç‰‡</strong></p>
</li>
<li>ç‰¹å¾µï¼šæ˜äº®å‡å‹»çš„å…‰ç·šï¼Œç„¡å¼·çƒˆé™°å½±</li>
<li>æ‹æ”ç’°å¢ƒï¼šç™½å¤©å®¤å…§ã€æˆ¶å¤–é™°å½±è™•ã€æŸ”å’Œç‡ˆå…‰ä¸‹</li>
<li>
<p>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜…â˜…â˜…ï¼ˆ90%+ï¼‰</p>
</li>
<li>
<p><strong>ä¸­è¿‘è·é›¢æ‹æ”</strong></p>
</li>
<li>ç‰¹å¾µï¼šäººè‡‰åœ¨ç•«é¢ä¸­ä½”æ¯”é©ä¸­ï¼ˆè‡³å°‘ 50Ã—50 åƒç´ ï¼‰</li>
<li>è·é›¢ï¼š1-3 å…¬å°ºå…§æ‹æ”</li>
<li>
<p>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜…â˜…â˜†ï¼ˆ85%+ï¼‰</p>
</li>
<li>
<p><strong>å–®ä¸€æˆ–å¤šäººæ¸…æ™°ç…§ç‰‡</strong></p>
</li>
<li>ç‰¹å¾µï¼šæ¯å¼µè‡‰éƒ½æ¸…æ™°ã€ä¸é‡ç–Š</li>
<li>ç¯„ä¾‹ï¼šå…¨å®¶ç¦ã€ç•¢æ¥­ç…§ã€æœƒè­°åˆç…§</li>
<li>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜…â˜…â˜†ï¼ˆ80%+ï¼‰</li>
</ol>
<h4>âš ï¸ æ•ˆæœè¼ƒå·®çš„å½±åƒ</h4>
<ol>
<li><strong>å´è‡‰æˆ–ä½é ­ç…§ç‰‡</strong></li>
<li>å•é¡Œï¼šHaar Cascade ä¸»è¦è¨“ç·´æ–¼æ­£é¢äººè‡‰</li>
<li>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜†â˜†â˜†ï¼ˆ30-50%ï¼‰</li>
<li>
<p>æ”¹å–„æ–¹æ³•ï¼šä½¿ç”¨æ·±åº¦å­¸ç¿’æ¨¡å‹ï¼ˆå¦‚ MTCNNï¼‰</p>
</li>
<li>
<p><strong>é€†å…‰æˆ–éæš—ç…§ç‰‡</strong></p>
</li>
<li>å•é¡Œï¼šè‡‰éƒ¨ç‰¹å¾µä¸æ¸…æ™°</li>
<li>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜†â˜†â˜†ï¼ˆ40-60%ï¼‰</li>
<li>
<p>æ”¹å–„æ–¹æ³•ï¼šèª¿æ•´åœ–ç‰‡äº®åº¦æˆ–å°æ¯”åº¦</p>
</li>
<li>
<p><strong>äººè‡‰éå°çš„ç…§ç‰‡</strong></p>
</li>
<li>å•é¡Œï¼šäººè‡‰åƒç´ å°‘æ–¼ 30Ã—30</li>
<li>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜†â˜†â˜†â˜†ï¼ˆ10-30%ï¼‰</li>
<li>
<p>æ”¹å–„æ–¹æ³•ï¼šé™ä½ <code>minSize</code> åƒæ•¸æˆ–è£åˆ‡æ”¾å¤§</p>
</li>
<li>
<p><strong>æ¨¡ç³Šæˆ–å‹•æ…‹ç…§ç‰‡</strong></p>
</li>
<li>å•é¡Œï¼šäº”å®˜è¼ªå»“ä¸æ¸…æ™°</li>
<li>åµæ¸¬æˆåŠŸç‡ï¼šâ˜…â˜…â˜†â˜†â˜†ï¼ˆ30-50%ï¼‰</li>
<li>æ”¹å–„æ–¹æ³•ï¼šä½¿ç”¨æ¸…æ™°çš„éœæ…‹ç…§ç‰‡</li>
</ol>
<h4>âŒ ä¸é©åˆçš„å½±åƒ</h4>
<ul>
<li>ç´”å´é¢ç…§ï¼ˆè‡‰éƒ¨è§’åº¦ &gt; 45Â°ï¼‰</li>
<li>æˆ´å£ç½©ã€å¢¨é¡ç­‰å¤§é¢ç©é®æ“‹</li>
<li>å¡é€šæˆ–ç¹ªç•«äººè‡‰ï¼ˆéçœŸå¯¦äººè‡‰ï¼‰</li>
<li>æ¥µç«¯å…‰ç·šï¼ˆå…¨é»‘ã€å¼·å…‰éæ›ï¼‰</li>
</ul>
<h3>æ¸¬è©¦å½±åƒå»ºè­°</h3>
<h4>åˆå­¸è€…æ¸¬è©¦ï¼ˆé›£åº¦ï¼šâ˜…â˜†â˜†â˜†â˜†ï¼‰</h4>
<pre class="codehilite"><code>å»ºè­°å½±åƒï¼š
- girl.jpgï¼ˆæ•™å­¸ç¯„ä¾‹ï¼‰
- mona.jpgï¼ˆè’™å¨œéº—èï¼‰
- è‡ªå·±çš„è­‰ä»¶ç…§æˆ–è‡ªæ‹ç…§

ç‰¹é»ï¼šå–®äººã€æ­£é¢ã€å…‰ç·šè‰¯å¥½
é æœŸçµæœï¼š100% åµæ¸¬æˆåŠŸ
</code></pre>

<h4>ä¸­ç´šæ¸¬è©¦ï¼ˆé›£åº¦ï¼šâ˜…â˜…â˜…â˜†â˜†ï¼‰</h4>
<pre class="codehilite"><code>å»ºè­°å½±åƒï¼š
- 2-4 äººçš„åœ˜é«”ç…§
- å…¨å®¶ç¦ç…§ç‰‡
- æœ‹å‹èšæœƒç…§ç‰‡

ç‰¹é»ï¼šå¤šäººã€æ­£é¢ç‚ºä¸»ã€éƒ¨åˆ†å´è‡‰
é æœŸçµæœï¼š80-90% åµæ¸¬æˆåŠŸ
</code></pre>

<h4>é€²éšæ¸¬è©¦ï¼ˆé›£åº¦ï¼šâ˜…â˜…â˜…â˜…â˜†ï¼‰</h4>
<pre class="codehilite"><code>å»ºè­°å½±åƒï¼š
- å¤§å‹åœ˜é«”ç…§ï¼ˆ10 äººä»¥ä¸Šï¼‰
- åŒ…å«ä¸åŒè§’åº¦çš„äººè‡‰
- æœ‰éƒ¨åˆ†é®æ“‹æˆ–å…‰ç·šä¸å‡

ç‰¹é»ï¼šè¤‡é›œå ´æ™¯ã€å¤šç¨®è§’åº¦
é æœŸçµæœï¼š60-80% åµæ¸¬æˆåŠŸ
</code></pre>

<h3>å½±åƒæº–å‚™æª¢æŸ¥æ¸…å–®</h3>
<p>åœ¨æ¸¬è©¦å‰ï¼Œè«‹ç¢ºèªä½ çš„å½±åƒï¼š<br />
- [ ] æ ¼å¼ç‚º JPGã€PNG ç­‰å¸¸è¦‹åœ–ç‰‡æ ¼å¼<br />
- [ ] è§£æåº¦è‡³å°‘ 640Ã—480ï¼ˆå»ºè­° 1024Ã—768 ä»¥ä¸Šï¼‰<br />
- [ ] æª”æ¡ˆå¤§å°ä¸è¶…é 5MBï¼ˆé¿å…è¨˜æ†¶é«”å•é¡Œï¼‰<br />
- [ ] äººè‡‰æ¸…æ™°å¯è¦‹ï¼Œç„¡åš´é‡æ¨¡ç³Š<br />
- [ ] å…‰ç·šé©ä¸­ï¼Œéæ¥µç«¯æ˜æš—<br />
- [ ] äººè‡‰å¤§å°è‡³å°‘ 50Ã—50 åƒç´ </p>
<hr />
<h2>âœ… è©³ç´°éœ€æ±‚åˆ—è¡¨</h2>
<h3>éœ€æ±‚ 1ï¼šç’°å¢ƒæº–å‚™èˆ‡æª”æ¡ˆä¸‹è¼‰</h3>
<p><strong>èªªæ˜</strong>ï¼šåœ¨ Google Colab ç’°å¢ƒä¸­ä¸‹è¼‰æ‰€éœ€çš„æ¨¡å‹æª”æ¡ˆå’Œæ¸¬è©¦åœ–ç‰‡ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># åœ¨ Colab ç¬¬ä¸€å€‹å„²å­˜æ ¼åŸ·è¡Œ
import urllib.request
import os

# ä¸‹è¼‰å¿…è¦æª”æ¡ˆ
files = {
    'haarcascade_frontalface_default.xml': 'https://raw.githubusercontent.com/opencv/opencv/4.x/data/haarcascades/haarcascade_frontalface_default.xml',
    'mona.jpg': 'https://steam.oxxostudio.tw/down/python/ai/mona.jpg',
    'girl.jpg': 'https://steam.oxxostudio.tw/down/python/ai/girl.jpg'
}

for filename, url in files.items():
    if not os.path.exists(filename):
        print(f&quot;ä¸‹è¼‰ {filename}...&quot;)
        urllib.request.urlretrieve(url, filename)
        print(f&quot;âœ“ {filename} ä¸‹è¼‰å®Œæˆ&quot;)
    else:
        print(f&quot;âœ“ {filename} å·²å­˜åœ¨&quot;)

print(&quot;\næ‰€æœ‰æª”æ¡ˆæº–å‚™å®Œæˆï¼&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 2ï¼šåŒ¯å…¥å¿…è¦å¥—ä»¶</h3>
<p><strong>èªªæ˜</strong>ï¼šåŒ¯å…¥ OpenCVã€NumPy å’Œ Colab é¡¯ç¤ºå·¥å…·ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># åŒ¯å…¥å¿…è¦çš„å¥—ä»¶
import cv2
import numpy as np
from google.colab.patches import cv2_imshow

print(&quot;âœ“ å¥—ä»¶åŒ¯å…¥å®Œæˆ&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 3ï¼šè®€å–ä¸¦æª¢æŸ¥åœ–ç‰‡</h3>
<p><strong>èªªæ˜</strong>ï¼šè®€å–åœ–ç‰‡æª”æ¡ˆï¼Œä¸¦æª¢æŸ¥æ˜¯å¦æˆåŠŸè®€å–ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># è®€å–åœ–ç‰‡
img = cv2.imread('girl.jpg')  # æˆ–ä½¿ç”¨å…¶ä»–åŒ…å«äººè‡‰çš„åœ–ç‰‡

# æª¢æŸ¥åœ–ç‰‡æ˜¯å¦æˆåŠŸè®€å–
if img is None:
    print(&quot;éŒ¯èª¤: ç„¡æ³•è®€å–åœ–ç‰‡ï¼Œè«‹ç¢ºèªæª”æ¡ˆå·²æ­£ç¢ºä¸‹è¼‰&quot;)
    print(&quot;è«‹æª¢æŸ¥ï¼š&quot;)
    print(&quot;1. æª”æ¡ˆæ˜¯å¦å­˜åœ¨æ–¼ç•¶å‰ç›®éŒ„&quot;)
    print(&quot;2. æª”æ¡ˆåç¨±æ˜¯å¦æ­£ç¢º&quot;)
else:
    print(&quot;âœ“ åœ–ç‰‡è®€å–æˆåŠŸ&quot;)
    # é¡¯ç¤ºåœ–ç‰‡å°ºå¯¸
    height, width, channels = img.shape
    print(f&quot;åœ–ç‰‡å°ºå¯¸: {width} x {height} åƒç´ &quot;)
    print(f&quot;è‰²å½©é€šé“: {channels}&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 4ï¼šè½‰æ›ç‚ºç°éšå½±åƒ</h3>
<p><strong>èªªæ˜</strong>ï¼šå°‡å½©è‰²åœ–ç‰‡è½‰æ›ç‚ºç°éšï¼Œä»¥æé«˜åµæ¸¬æ•ˆç‡ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># å°‡åœ–ç‰‡è½‰æ›ç‚ºç°éš
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
print(&quot;âœ“ åœ–ç‰‡å·²è½‰æ›ç‚ºç°éš&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 5ï¼šè¼‰å…¥ Haar Cascade äººè‡‰åµæ¸¬æ¨¡å‹</h3>
<p><strong>èªªæ˜</strong>ï¼šè¼‰å…¥é è¨“ç·´çš„äººè‡‰åµæ¸¬æ¨¡å‹ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># è¼‰å…¥äººè‡‰åµæ¸¬æ¨¡å‹
face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')

# æª¢æŸ¥æ¨¡å‹æ˜¯å¦æˆåŠŸè¼‰å…¥
if face_cascade.empty():
    print(&quot;éŒ¯èª¤: ç„¡æ³•è¼‰å…¥äººè‡‰åµæ¸¬æ¨¡å‹&quot;)
    print(&quot;è«‹ç¢ºèª haarcascade_frontalface_default.xml æª”æ¡ˆå­˜åœ¨&quot;)
else:
    print(&quot;âœ“ äººè‡‰åµæ¸¬æ¨¡å‹è¼‰å…¥æˆåŠŸ&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 6ï¼šåŸ·è¡Œäººè‡‰åµæ¸¬</h3>
<p><strong>èªªæ˜</strong>ï¼šä½¿ç”¨ <code>detectMultiScale()</code> æ–¹æ³•åµæ¸¬åœ–ç‰‡ä¸­çš„æ‰€æœ‰äººè‡‰ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># åµæ¸¬äººè‡‰
# scaleFactor: å½±åƒç¸®æ”¾æ¯”ä¾‹ï¼Œ1.1 è¡¨ç¤ºæ¯æ¬¡ç¸®å° 10%
# minNeighbors: æ§‹æˆæœ‰æ•ˆåµæ¸¬æ‰€éœ€çš„æœ€å°‘é„°å±…æ•¸é‡
# minSize: æœ€å°äººè‡‰å°ºå¯¸
faces = face_cascade.detectMultiScale(
    gray,                # è¼¸å…¥çš„ç°éšåœ–ç‰‡
    scaleFactor=1.1,     # å»ºè­°å€¼ï¼š1.05-1.3
    minNeighbors=5,      # å»ºè­°å€¼ï¼š3-8
    minSize=(30, 30)     # æœ€å°äººè‡‰å°ºå¯¸ï¼Œé¿å…åµæ¸¬éå°çš„å€åŸŸ
)

# é¡¯ç¤ºåµæ¸¬çµæœ
print(f&quot;âœ“ åµæ¸¬å®Œæˆ&quot;)
print(f&quot;æ‰¾åˆ° {len(faces)} å¼µäººè‡‰&quot;)

# è‹¥æ²’æœ‰åµæ¸¬åˆ°äººè‡‰
if len(faces) == 0:
    print(&quot;\nâš ï¸ æœªåµæ¸¬åˆ°äººè‡‰ï¼Œå¯èƒ½åŸå› ï¼š&quot;)
    print(&quot;1. åœ–ç‰‡ä¸­æ²’æœ‰æ­£é¢äººè‡‰&quot;)
    print(&quot;2. äººè‡‰éå°æˆ–éå¤§&quot;)
    print(&quot;3. å…‰ç·šæ¢ä»¶ä¸ä½³&quot;)
    print(&quot;4. å»ºè­°èª¿æ•´ scaleFactor æˆ– minNeighbors åƒæ•¸&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 7ï¼šåœ¨æ¯å¼µäººè‡‰ä¸Šç¹ªè£½çŸ©å½¢æ¡†èˆ‡ç·¨è™Ÿ</h3>
<p><strong>èªªæ˜</strong>ï¼šéæ­·æ‰€æœ‰åµæ¸¬åˆ°çš„äººè‡‰ï¼Œç¹ªè£½æ¡†ç·šä¸¦åŠ ä¸Šç·¨è™Ÿæ¨™ç±¤ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># éæ­·æ‰€æœ‰åµæ¸¬åˆ°çš„äººè‡‰
for i, (x, y, w, h) in enumerate(faces, start=1):
    # ç¹ªè£½çŸ©å½¢æ¡†
    # åƒæ•¸ï¼šåœ–ç‰‡, å·¦ä¸Šè§’åº§æ¨™, å³ä¸‹è§’åº§æ¨™, é¡è‰² (BGR), ç·šæ¢ç²—ç´°
    cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), 2)

    # æº–å‚™æ–‡å­—æ¨™ç±¤
    label = f&quot;äººè‡‰ {i}&quot;

    # è¨ˆç®—æ–‡å­—ä½ç½®ï¼ˆçŸ©å½¢æ¡†ä¸Šæ–¹ï¼‰
    text_x = x
    text_y = y - 10 if y - 10 &gt; 10 else y + h + 20  # é¿å…è¶…å‡ºåœ–ç‰‡ç¯„åœ

    # ç¹ªè£½æ–‡å­—
    cv2.putText(
        img,                              # ç›®æ¨™åœ–ç‰‡
        label,                            # æ–‡å­—å…§å®¹
        (text_x, text_y),                # æ–‡å­—ä½ç½®ï¼ˆå·¦ä¸‹è§’ï¼‰
        cv2.FONT_HERSHEY_SIMPLEX,        # å­—é«”é¡å‹
        0.9,                              # å­—é«”å¤§å°
        (0, 255, 0),                      # æ–‡å­—é¡è‰²ï¼ˆç¶ è‰²ï¼‰
        2                                 # æ–‡å­—ç²—ç´°
    )

    # è¼¸å‡ºæ¯å¼µäººè‡‰çš„åº§æ¨™è³‡è¨Š
    print(f&quot;äººè‡‰ {i}: ä½ç½®({x}, {y}), å¤§å°({w}x{h})&quot;)
</code></pre>

<hr />
<h3>éœ€æ±‚ 8ï¼šçµ±è¨ˆä¸¦é¡¯ç¤ºç¸½äººæ•¸</h3>
<p><strong>èªªæ˜</strong>ï¼šåœ¨çµ‚ç«¯æ©Ÿè¼¸å‡ºç¸½äººæ•¸ï¼Œä¸¦åœ¨åœ–ç‰‡å·¦ä¸Šè§’é¡¯ç¤ºçµ±è¨ˆè³‡è¨Šã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># åœ¨çµ‚ç«¯æ©Ÿè¼¸å‡ºç¸½äººæ•¸
total_faces = len(faces)
print(f&quot;\n{'='*40}&quot;)
print(f&quot;åµæ¸¬çµæœçµ±è¨ˆ&quot;)
print(f&quot;{'='*40}&quot;)
print(f&quot;ç¸½å…±åµæ¸¬åˆ° {total_faces} å¼µäººè‡‰&quot;)
print(f&quot;{'='*40}\n&quot;)

# å¯é¸ï¼šåœ¨åœ–ç‰‡å·¦ä¸Šè§’é¡¯ç¤ºç¸½äººæ•¸
summary_text = f&quot;Total: {total_faces} face(s)&quot;
cv2.putText(
    img,
    summary_text,
    (10, 30),                        # å·¦ä¸Šè§’ä½ç½®
    cv2.FONT_HERSHEY_SIMPLEX,
    1.0,                              # è¼ƒå¤§çš„å­—é«”
    (255, 0, 0),                      # è—è‰²
    2
)
</code></pre>

<hr />
<h3>éœ€æ±‚ 9ï¼šé¡¯ç¤ºè™•ç†å¾Œçš„çµæœ</h3>
<p><strong>èªªæ˜</strong>ï¼šä½¿ç”¨ <code>cv2_imshow()</code> é¡¯ç¤ºæ¨™è¨˜å¾Œçš„åœ–ç‰‡ã€‚</p>
<p><strong>ç¨‹å¼ç¢¼æç¤º</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># é¡¯ç¤ºè™•ç†å¾Œçš„åœ–ç‰‡
print(&quot;è™•ç†å¾Œçš„åœ–ç‰‡ï¼š&quot;)
cv2_imshow(img)

# å¯é¸ï¼šå„²å­˜çµæœåœ–ç‰‡
output_filename = 'result_face_count.jpg'
cv2.imwrite(output_filename, img)
print(f&quot;\nâœ“ çµæœå·²å„²å­˜ç‚º {output_filename}&quot;)
</code></pre>

<hr />
<h2>ğŸ“ å®Œæ•´å¯åŸ·è¡Œç¨‹å¼ç¢¼</h2>
<pre class="codehilite"><code class="language-python"># ========================================
# é¡Œç›®ä¸€ï¼šäººè‡‰è¨ˆæ•¸èˆ‡æ¡†é¸æ‡‰ç”¨
# ========================================

import cv2
import numpy as np
from google.colab.patches import cv2_imshow

# 1. è®€å–åœ–ç‰‡
img = cv2.imread('girl.jpg')

if img is None:
    print(&quot;éŒ¯èª¤: ç„¡æ³•è®€å–åœ–ç‰‡&quot;)
else:
    print(&quot;âœ“ åœ–ç‰‡è®€å–æˆåŠŸ&quot;)
    height, width, channels = img.shape
    print(f&quot;åœ–ç‰‡å°ºå¯¸: {width} x {height} åƒç´ &quot;)

    # 2. è½‰æ›ç‚ºç°éš
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    print(&quot;âœ“ åœ–ç‰‡å·²è½‰æ›ç‚ºç°éš&quot;)

    # 3. è¼‰å…¥äººè‡‰åµæ¸¬æ¨¡å‹
    face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')

    if face_cascade.empty():
        print(&quot;éŒ¯èª¤: ç„¡æ³•è¼‰å…¥äººè‡‰åµæ¸¬æ¨¡å‹&quot;)
    else:
        print(&quot;âœ“ äººè‡‰åµæ¸¬æ¨¡å‹è¼‰å…¥æˆåŠŸ&quot;)

        # 4. åµæ¸¬äººè‡‰
        faces = face_cascade.detectMultiScale(
            gray,
            scaleFactor=1.1,
            minNeighbors=5,
            minSize=(30, 30)
        )

        print(f&quot;âœ“ åµæ¸¬å®Œæˆï¼Œæ‰¾åˆ° {len(faces)} å¼µäººè‡‰&quot;)

        # 5. ç¹ªè£½çŸ©å½¢æ¡†èˆ‡ç·¨è™Ÿ
        for i, (x, y, w, h) in enumerate(faces, start=1):
            # ç¹ªè£½çŸ©å½¢æ¡†
            cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), 2)

            # æº–å‚™æ¨™ç±¤
            label = f&quot;äººè‡‰ {i}&quot;

            # è¨ˆç®—æ–‡å­—ä½ç½®
            text_x = x
            text_y = y - 10 if y - 10 &gt; 10 else y + h + 20

            # ç¹ªè£½æ–‡å­—
            cv2.putText(
                img,
                label,
                (text_x, text_y),
                cv2.FONT_HERSHEY_SIMPLEX,
                0.9,
                (0, 255, 0),
                2
            )

            print(f&quot;äººè‡‰ {i}: ä½ç½®({x}, {y}), å¤§å°({w}x{h})&quot;)

        # 6. é¡¯ç¤ºç¸½äººæ•¸çµ±è¨ˆ
        total_faces = len(faces)
        print(f&quot;\n{'='*40}&quot;)
        print(f&quot;ç¸½å…±åµæ¸¬åˆ° {total_faces} å¼µäººè‡‰&quot;)
        print(f&quot;{'='*40}\n&quot;)

        # åœ¨åœ–ç‰‡ä¸Šé¡¯ç¤ºçµ±è¨ˆ
        summary_text = f&quot;Total: {total_faces} face(s)&quot;
        cv2.putText(
            img,
            summary_text,
            (10, 30),
            cv2.FONT_HERSHEY_SIMPLEX,
            1.0,
            (255, 0, 0),
            2
        )

        # 7. é¡¯ç¤ºçµæœ
        print(&quot;è™•ç†å¾Œçš„åœ–ç‰‡ï¼š&quot;)
        cv2_imshow(img)

        # å„²å­˜çµæœ
        cv2.imwrite('result_face_count.jpg', img)
        print(&quot;\nâœ“ çµæœå·²å„²å­˜ç‚º result_face_count.jpg&quot;)
</code></pre>

<hr />
<h2>ğŸ¯ æ¸¬è©¦å»ºè­°</h2>
<h3>åŸºæœ¬æ¸¬è©¦æµç¨‹</h3>
<ol>
<li><strong>å–®äººç…§ç‰‡æ¸¬è©¦</strong><br />
<code>python
   img = cv2.imread('girl.jpg')  # ä½¿ç”¨æ•™å­¸ç¯„ä¾‹</code></li>
<li>é æœŸçµæœï¼šåµæ¸¬åˆ° 1 å¼µäººè‡‰</li>
<li>
<p>æª¢æŸ¥ï¼šæ¡†ç·šæ˜¯å¦æº–ç¢ºã€æ¨™ç±¤æ˜¯å¦é¡¯ç¤º</p>
</li>
<li>
<p><strong>å¤šäººç…§ç‰‡æ¸¬è©¦</strong><br />
<code>python
   # ä¸Šå‚³ä½ è‡ªå·±çš„åœ˜é«”ç…§
   from google.colab import files
   uploaded = files.upload()
   img = cv2.imread('your_photo.jpg')</code></p>
</li>
<li>é æœŸçµæœï¼šåµæ¸¬åˆ°å¤§éƒ¨åˆ†æ­£é¢äººè‡‰</li>
<li>æª¢æŸ¥ï¼šæ˜¯å¦æœ‰æ¼åµæ¸¬æˆ–èª¤åˆ¤</li>
</ol>
<h3>åƒæ•¸èª¿æ•´å¯¦é©—</h3>
<p><strong>å¯¦é©— 1ï¼šèª¿æ•´ scaleFactor</strong></p>
<pre class="codehilite"><code class="language-python"># æ¸¬è©¦ä¸åŒçš„ scaleFactor å€¼
scale_factors = [1.05, 1.1, 1.2, 1.3]

for sf in scale_factors:
    faces = face_cascade.detectMultiScale(gray, scaleFactor=sf, minNeighbors=5)
    print(f&quot;scaleFactor={sf}: åµæ¸¬åˆ° {len(faces)} å¼µäººè‡‰&quot;)
</code></pre>

<p><strong>å¯¦é©— 2ï¼šèª¿æ•´ minNeighbors</strong></p>
<pre class="codehilite"><code class="language-python"># æ¸¬è©¦ä¸åŒçš„ minNeighbors å€¼
min_neighbors = [3, 5, 7, 10]

for mn in min_neighbors:
    faces = face_cascade.detectMultiScale(gray, scaleFactor=1.1, minNeighbors=mn)
    print(f&quot;minNeighbors={mn}: åµæ¸¬åˆ° {len(faces)} å¼µäººè‡‰&quot;)
</code></pre>

<h3>æ•ˆæœè©•ä¼°</h3>
<p>è¨˜éŒ„æ¸¬è©¦çµæœï¼š<br />
- ä½¿ç”¨åœ–ç‰‡ï¼š<strong><em>_</em></strong><strong><em><br />
- å¯¦éš›äººè‡‰æ•¸é‡ï¼š</em></strong><strong><em>_</em></strong><br />
- åµæ¸¬åˆ°çš„æ•¸é‡ï¼š<strong><em>_</em></strong><strong><em><br />
- æº–ç¢ºç‡ï¼š</em></strong><strong><em>_</em></strong> %<br />
- æœ€ä½³åƒæ•¸çµ„åˆï¼šscaleFactor=<strong><em>_</em>_, minNeighbors=</strong>____</p>
<hr />
<h2>ğŸš€ å»¶ä¼¸æŒ‘æˆ°ï¼ˆé¸åšï¼‰</h2>
<h3>æŒ‘æˆ° 1ï¼šä½¿ç”¨ä¸åŒé¡è‰²æ¨™ç¤ºä¸åŒäººè‡‰</h3>
<pre class="codehilite"><code class="language-python"># å®šç¾©é¡è‰²åˆ—è¡¨ï¼ˆBGR æ ¼å¼ï¼‰
colors = [
    (0, 255, 0),    # ç¶ è‰²
    (255, 0, 0),    # è—è‰²
    (0, 0, 255),    # ç´…è‰²
    (255, 255, 0),  # é’è‰²
    (255, 0, 255),  # æ´‹ç´…è‰²
    (0, 255, 255),  # é»ƒè‰²
]

for i, (x, y, w, h) in enumerate(faces):
    # å¾ªç’°ä½¿ç”¨é¡è‰²
    color = colors[i % len(colors)]

    # ç¹ªè£½å½©è‰²æ¡†ç·š
    cv2.rectangle(img, (x, y), (x+w, y+h), color, 2)

    # ä½¿ç”¨ç›¸åŒé¡è‰²ç¹ªè£½æ–‡å­—
    label = f&quot;äººè‡‰ {i+1}&quot;
    cv2.putText(img, label, (x, y-10),
                cv2.FONT_HERSHEY_SIMPLEX, 0.9, color, 2)
</code></pre>

<h3>æŒ‘æˆ° 2ï¼šé¡¯ç¤ºäººè‡‰å¤§å°è³‡è¨Š</h3>
<pre class="codehilite"><code class="language-python">for i, (x, y, w, h) in enumerate(faces, start=1):
    cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), 2)

    # è¨ˆç®—é¢ç©
    area = w * h
    label = f&quot;Face {i}: {w}x{h} ({area}px)&quot;

    cv2.putText(img, label, (x, y-10),
                cv2.FONT_HERSHEY_SIMPLEX, 0.6, (0, 255, 0), 2)
</code></pre>

<h3>æŒ‘æˆ° 3ï¼šæ¨™ç¤ºæœ€å¤§å’Œæœ€å°çš„äººè‡‰</h3>
<pre class="codehilite"><code class="language-python">if len(faces) &gt; 0:
    # è¨ˆç®—æ¯å¼µäººè‡‰çš„é¢ç©
    face_areas = [(i, x, y, w, h, w*h) for i, (x, y, w, h) in enumerate(faces, start=1)]

    # æ‰¾å‡ºæœ€å¤§å’Œæœ€å°
    largest = max(face_areas, key=lambda x: x[5])
    smallest = min(face_areas, key=lambda x: x[5])

    # æ¨™ç¤ºæœ€å¤§äººè‡‰
    i, x, y, w, h, area = largest
    cv2.rectangle(img, (x, y), (x+w, y+h), (0, 0, 255), 3)  # ç´…è‰²ç²—æ¡†
    cv2.putText(img, &quot;LARGEST&quot;, (x, y-30),
                cv2.FONT_HERSHEY_SIMPLEX, 1.0, (0, 0, 255), 2)

    # æ¨™ç¤ºæœ€å°äººè‡‰
    i, x, y, w, h, area = smallest
    cv2.rectangle(img, (x, y), (x+w, y+h), (255, 0, 0), 3)  # è—è‰²ç²—æ¡†
    cv2.putText(img, &quot;SMALLEST&quot;, (x, y-30),
                cv2.FONT_HERSHEY_SIMPLEX, 1.0, (255, 0, 0), 2)
</code></pre>

<hr />
<h2>ğŸ”§ é™¤éŒ¯æŠ€å·§</h2>
<h3>å•é¡Œ 1ï¼šç„¡æ³•è®€å–åœ–ç‰‡</h3>
<p><strong>ç—‡ç‹€</strong>ï¼š<code>img is None</code> éŒ¯èª¤</p>
<p><strong>è§£æ±ºæ–¹æ³•</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python">import os

# æª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨
if os.path.exists('girl.jpg'):
    print(&quot;âœ“ æª”æ¡ˆå­˜åœ¨&quot;)
else:
    print(&quot;âœ— æª”æ¡ˆä¸å­˜åœ¨&quot;)
    # åˆ—å‡ºç•¶å‰ç›®éŒ„çš„æ‰€æœ‰æª”æ¡ˆ
    print(&quot;ç•¶å‰ç›®éŒ„çš„æª”æ¡ˆï¼š&quot;)
    for f in os.listdir('.'):
        print(f&quot;  - {f}&quot;)
</code></pre>

<h3>å•é¡Œ 2ï¼šæ¨¡å‹è¼‰å…¥å¤±æ•—</h3>
<p><strong>ç—‡ç‹€</strong>ï¼š<code>face_cascade.empty()</code> è¿”å› <code>True</code></p>
<p><strong>è§£æ±ºæ–¹æ³•</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python">import os

# æª¢æŸ¥æ¨¡å‹æª”æ¡ˆ
model_file = 'haarcascade_frontalface_default.xml'

if not os.path.exists(model_file):
    print(f&quot;æ¨¡å‹æª”æ¡ˆä¸å­˜åœ¨ï¼Œæ­£åœ¨ä¸‹è¼‰...&quot;)
    import urllib.request
    url = 'https://raw.githubusercontent.com/opencv/opencv/4.x/data/haarcascades/haarcascade_frontalface_default.xml'
    urllib.request.urlretrieve(url, model_file)
    print(&quot;âœ“ ä¸‹è¼‰å®Œæˆ&quot;)
</code></pre>

<h3>å•é¡Œ 3ï¼šåµæ¸¬ä¸åˆ°äººè‡‰</h3>
<p><strong>è¨ºæ–·å·¥å…·</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># é¡¯ç¤ºç°éšåœ–ç‰‡ï¼Œæª¢æŸ¥å“è³ª
print(&quot;ç°éšåœ–ç‰‡ï¼š&quot;)
cv2_imshow(gray)

# å˜—è©¦ä¸åŒåƒæ•¸çµ„åˆ
param_combinations = [
    (1.05, 3),
    (1.1, 3),
    (1.1, 5),
    (1.2, 5),
]

print(&quot;\nåƒæ•¸æ¸¬è©¦ï¼š&quot;)
for sf, mn in param_combinations:
    faces = face_cascade.detectMultiScale(gray, scaleFactor=sf, minNeighbors=mn)
    print(f&quot;scaleFactor={sf}, minNeighbors={mn}: {len(faces)} å¼µäººè‡‰&quot;)
</code></pre>

<h3>å•é¡Œ 4ï¼šä¸­æ–‡æ¨™ç±¤é¡¯ç¤ºç‚ºäº‚ç¢¼æˆ–æ–¹æ¡†</h3>
<p><strong>åŸå› </strong>ï¼šOpenCV é è¨­ä¸æ”¯æ´ä¸­æ–‡å­—é«”</p>
<p><strong>è§£æ±ºæ–¹æ³•</strong>ï¼š</p>
<pre class="codehilite"><code class="language-python"># æ–¹æ³• 1ï¼šä½¿ç”¨è‹±æ–‡æ¨™ç±¤
label = f&quot;Face {i}&quot;  # ä¸ä½¿ç”¨ä¸­æ–‡

# æ–¹æ³• 2ï¼šä½¿ç”¨ PIL ç¹ªè£½ä¸­æ–‡ï¼ˆé€²éšï¼‰
from PIL import Image, ImageDraw, ImageFont

# å°‡ OpenCV åœ–ç‰‡è½‰ç‚º PIL æ ¼å¼
pil_img = Image.fromarray(cv2.cvtColor(img, cv2.COLOR_BGR2RGB))
draw = ImageDraw.Draw(pil_img)

# è¼‰å…¥ä¸­æ–‡å­—é«”ï¼ˆéœ€è¦ä¸Šå‚³å­—é«”æª”ï¼‰
# font = ImageFont.truetype(&quot;NotoSansTC-Regular.ttf&quot;, 30)
# draw.text((x, y-40), f&quot;äººè‡‰ {i}&quot;, font=font, fill=(0, 255, 0))

# è½‰å› OpenCV æ ¼å¼
img = cv2.cvtColor(np.array(pil_img), cv2.COLOR_RGB2BGR)
</code></pre>

<hr />
<h2>ğŸ’¡ å¸¸è¦‹å•é¡Œ FAQ</h2>
<h3>Q1: ç‚ºä»€éº¼åµæ¸¬åˆ°çš„äººè‡‰æ•¸é‡ä¸æ­£ç¢ºï¼Ÿ</h3>
<p><strong>A:</strong> å¯èƒ½åŸå› ï¼š<br />
1. <strong>äººè‡‰è§’åº¦å•é¡Œ</strong>ï¼šHaar Cascade å°æ­£é¢è‡‰æ•ˆæœæœ€å¥½<br />
2. <strong>å…‰ç·šå•é¡Œ</strong>ï¼šå¤ªæš—æˆ–éæ›æœƒå½±éŸ¿åµæ¸¬<br />
3. <strong>äººè‡‰å¤§å°</strong>ï¼šéå°ï¼ˆ&lt; 30Ã—30pxï¼‰æœƒè¢«å¿½ç•¥<br />
4. <strong>åƒæ•¸è¨­å®š</strong>ï¼š<code>minNeighbors</code> éé«˜æœƒæ¼æ‰çœŸå¯¦äººè‡‰</p>
<p><strong>å»ºè­°èª¿æ•´</strong>ï¼š<br />
- é™ä½ <code>scaleFactor</code>ï¼š1.1 â†’ 1.05<br />
- é™ä½ <code>minNeighbors</code>ï¼š5 â†’ 3<br />
- é™ä½ <code>minSize</code>ï¼š(30,30) â†’ (20,20)</p>
<h3>Q2: å¦‚ä½•ä¸Šå‚³è‡ªå·±çš„ç…§ç‰‡åˆ° Colabï¼Ÿ</h3>
<p><strong>A:</strong> ä½¿ç”¨ä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š</p>
<pre class="codehilite"><code class="language-python">from google.colab import files

# ä¸Šå‚³æª”æ¡ˆ
print(&quot;è«‹é¸æ“‡è¦ä¸Šå‚³çš„åœ–ç‰‡ï¼š&quot;)
uploaded = files.upload()

# åˆ—å‡ºä¸Šå‚³çš„æª”æ¡ˆ
for filename in uploaded.keys():
    print(f&quot;å·²ä¸Šå‚³: {filename}&quot;)

# è®€å–ä¸Šå‚³çš„åœ–ç‰‡
img = cv2.imread(filename)
</code></pre>

<h3>Q3: å¯ä»¥ä¸€æ¬¡è™•ç†å¤šå¼µåœ–ç‰‡å—ï¼Ÿ</h3>
<p><strong>A:</strong> å¯ä»¥ï¼Œä½¿ç”¨è¿´åœˆè™•ç†ï¼š</p>
<pre class="codehilite"><code class="language-python"># åœ–ç‰‡åˆ—è¡¨
image_files = ['photo1.jpg', 'photo2.jpg', 'photo3.jpg']

for img_file in image_files:
    print(f&quot;\nè™•ç†åœ–ç‰‡: {img_file}&quot;)
    img = cv2.imread(img_file)

    if img is None:
        print(f&quot;  ç„¡æ³•è®€å– {img_file}&quot;)
        continue

    # åŸ·è¡Œåµæ¸¬ï¼ˆèˆ‡åŸç¨‹å¼ç¢¼ç›¸åŒï¼‰
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
    faces = face_cascade.detectMultiScale(gray, 1.1, 5)

    print(f&quot;  åµæ¸¬åˆ° {len(faces)} å¼µäººè‡‰&quot;)

    # ç¹ªè£½çµæœä¸¦å„²å­˜
    for i, (x, y, w, h) in enumerate(faces, start=1):
        cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), 2)

    output_file = f&quot;result_{img_file}&quot;
    cv2.imwrite(output_file, img)
    print(f&quot;  çµæœå·²å„²å­˜ç‚º {output_file}&quot;)
</code></pre>

<h3>Q4: å¦‚ä½•æé«˜åµæ¸¬æº–ç¢ºç‡ï¼Ÿ</h3>
<p><strong>A:</strong> å¯¦ç”¨æŠ€å·§ï¼š<br />
1. <strong>å½±åƒé è™•ç†</strong>ï¼š<br />
   ```python<br />
   # èª¿æ•´å°æ¯”åº¦å’Œäº®åº¦<br />
   img = cv2.convertScaleAbs(img, alpha=1.2, beta=20)</p>
<p># å»é™¤é›œè¨Š<br />
   img = cv2.GaussianBlur(img, (5, 5), 0)<br />
   ```</p>
<ol>
<li>
<p><strong>å¤šå°ºåº¦åµæ¸¬</strong>ï¼š<br />
<code>python
   # ä½¿ç”¨æ›´å°çš„ scaleFactor
   faces = face_cascade.detectMultiScale(
       gray,
       scaleFactor=1.05,  # æ›´ç²¾ç´°çš„æƒæ
       minNeighbors=3,
       minSize=(20, 20)
   )</code></p>
</li>
<li>
<p><strong>å¾Œè™•ç†éæ¿¾</strong>ï¼š<br />
<code>python
   # éæ¿¾é¢ç©éå°çš„åµæ¸¬æ¡†
   valid_faces = []
   for (x, y, w, h) in faces:
       area = w * h
       if area &gt; 1000:  # åªä¿ç•™é¢ç© &gt; 1000 çš„äººè‡‰
           valid_faces.append((x, y, w, h))</code></p>
</li>
</ol>
<h3>Q5: ç¨‹å¼åŸ·è¡Œå¾ˆæ…¢æ€éº¼è¾¦ï¼Ÿ</h3>
<p><strong>A:</strong> å„ªåŒ–æŠ€å·§ï¼š<br />
1. <strong>ç¸®å°åœ–ç‰‡</strong>ï¼š<br />
<code>python
   # ç¸®å°åˆ°åŸä¾†çš„ 50%
   img = cv2.resize(img, (0, 0), fx=0.5, fy=0.5)</code></p>
<ol>
<li>
<p><strong>æé«˜ scaleFactor</strong>ï¼š<br />
<code>python
   # ä½¿ç”¨è¼ƒå¤§çš„ scaleFactor åŠ å¿«é€Ÿåº¦
   faces = face_cascade.detectMultiScale(gray, 1.3, 5)</code></p>
</li>
<li>
<p><strong>é™åˆ¶åµæ¸¬å€åŸŸ</strong>ï¼ˆå¦‚æœçŸ¥é“äººè‡‰å¤§æ¦‚ä½ç½®ï¼‰ï¼š<br />
   ```python<br />
   # åªåµæ¸¬åœ–ç‰‡ä¸­å¤®å€åŸŸ<br />
   h, w = gray.shape<br />
   roi = gray[h//4:3<em>h//4, w//4:3</em>w//4]<br />
   faces = face_cascade.detectMultiScale(roi, 1.1, 5)</p>
</li>
</ol>
<p># è¨˜å¾—å°‡åº§æ¨™è½‰æ›å›åŸåœ–<br />
   for (x, y, w, h) in faces:<br />
       actual_x = x + w//4<br />
       actual_y = y + h//4<br />
       # ...<br />
   ```</p>
<hr />
<h2>ğŸ“Š è©•åˆ†æ¨™æº–</h2>
<table>
<thead>
<tr>
<th>é …ç›®</th>
<th>é…åˆ†</th>
<th>è©•åˆ†é‡é»</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>åŠŸèƒ½å®Œæ•´æ€§</strong></td>
<td>40%</td>
<td>æ‰€æœ‰ 9 å€‹éœ€æ±‚éƒ½å·²å¯¦ä½œä¸¦æ­£å¸¸é‹ä½œ</td>
</tr>
<tr>
<td><strong>ç¨‹å¼ç¢¼å“è³ª</strong></td>
<td>25%</td>
<td>çµæ§‹æ¸…æ™°ã€è¨»è§£å®Œæ•´ã€è®Šæ•¸å‘½åè¦ç¯„</td>
</tr>
<tr>
<td><strong>åŸ·è¡Œçµæœ</strong></td>
<td>20%</td>
<td>èƒ½æ­£ç¢ºåµæ¸¬äººè‡‰ä¸¦é¡¯ç¤ºç·¨è™Ÿ</td>
</tr>
<tr>
<td><strong>æ¸¬è©¦å ±å‘Š</strong></td>
<td>10%</td>
<td>å®Œæ•´è¨˜éŒ„æ¸¬è©¦éç¨‹èˆ‡å¿ƒå¾—åæ€</td>
</tr>
<tr>
<td><strong>å»¶ä¼¸æŒ‘æˆ°</strong></td>
<td>5%</td>
<td>å®Œæˆè‡³å°‘ä¸€é …å»¶ä¼¸æŒ‘æˆ°ï¼ˆåŠ åˆ†é …ï¼‰</td>
</tr>
</tbody>
</table>
<hr />
<h2>ğŸ“š å­¸ç¿’è³‡æº</h2>
<h3>åƒè€ƒæ–‡ä»¶</h3>
<ul>
<li>ä¸»è¦æ•™å­¸ï¼š<code>opencv_imageclassfy_b05.md</code></li>
<li>OpenCV å®˜æ–¹ï¼š<a href="https://docs.opencv.org/4.x/db/d28/tutorial_cascade_classifier.html">Cascade Classifier Tutorial</a></li>
</ul>
<h3>ç›¸é—œå‡½æ•¸èªªæ˜</h3>
<ul>
<li><code>cv2.imread()</code>ï¼šè®€å–åœ–ç‰‡</li>
<li><code>cv2.cvtColor()</code>ï¼šè½‰æ›è‰²å½©ç©ºé–“</li>
<li><code>cv2.CascadeClassifier()</code>ï¼šè¼‰å…¥åˆ†é¡å™¨</li>
<li><code>detectMultiScale()</code>ï¼šå¤šå°ºåº¦åµæ¸¬</li>
<li><code>cv2.rectangle()</code>ï¼šç¹ªè£½çŸ©å½¢</li>
<li><code>cv2.putText()</code>ï¼šç¹ªè£½æ–‡å­—</li>
</ul>
<hr />
<p><strong>ç¥å­¸ç¿’é †åˆ©ï¼å®Œæˆå¾Œè¨˜å¾—æ¸¬è©¦ä¸åŒçš„å½±åƒï¼Œè§€å¯Ÿåƒæ•¸å°çµæœçš„å½±éŸ¿ã€‚</strong> ğŸ“</p></div>
    
    <!-- Highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    
    <!-- Mermaid -->
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            "startOnLoad": true,
            "theme": "dark",
            "securityLevel": "loose"
});
    </script>
</body>
</html>